[gd_scene load_steps=6 format=3 uid="uid://b2x7ldhgds8tq"]

[sub_resource type="BoxMesh" id="BoxMesh_k2tvy"]
size = Vector3(1, 2, 0.1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_jp034"]
points = PackedVector3Array(-0.5, -1, -0.05, -0.5, -1, 0.05, -0.5, 1, -0.05, 0.5, -1, -0.05, 0.5, -1, 0.05, -0.5, 1, 0.05, 0.5, 1, -0.05, 0.5, 1, 0.05)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fd08l"]
albedo_color = Color(0.873089, 0.398925, 0.421911, 1)

[sub_resource type="BoxMesh" id="BoxMesh_5sa62"]
material = SubResource("StandardMaterial3D_fd08l")
size = Vector3(0.1, 2, 0.1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_udxnd"]
points = PackedVector3Array(-0.05, -1, -0.05, -0.05, -1, 0.05, -0.05, 1, -0.05, 0.05, -1, -0.05, 0.05, -1, 0.05, -0.05, 1, 0.05, 0.05, 1, -0.05, 0.05, 1, 0.05)

[node name="Doordrag" type="Node3D"]

[node name="doorPhysics" type="RigidBody3D" parent="." groups=["door"]]
collision_layer = 11
collision_mask = 15

[node name="MeshInstance3D" type="MeshInstance3D" parent="doorPhysics"]
mesh = SubResource("BoxMesh_k2tvy")

[node name="CollisionShape3D" type="CollisionShape3D" parent="doorPhysics"]
shape = SubResource("ConvexPolygonShape3D_jp034")

[node name="doorFrame" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="doorFrame"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.555843, 0, 0)
mesh = SubResource("BoxMesh_5sa62")

[node name="CollisionShape3D" type="CollisionShape3D" parent="doorFrame"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.555843, 0, 0)
shape = SubResource("ConvexPolygonShape3D_udxnd")

[node name="HingeJoint3D" type="HingeJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.496811, 0, 0)
node_a = NodePath("../doorPhysics")
node_b = NodePath("../doorFrame")
angular_limit/enable = true
angular_limit/upper = 0.0
angular_limit/lower = -1.91986
